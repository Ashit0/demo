
parameters:
  - name: goal
    displayName: maven goal
    type: string
    default: 'package'  
    values: 
      - package
      - clean
      - install
      - compile
  - name: jdkVersion
    displayName: 'Java Version'
    type: string
    default: '1.17'
  - name: pomFilePath
    displayName: mavenPOMFile
    type: string
    default: 'pom.xml'    


steps:
  - task: maven@3
    inputs: 
      mavenPOMFile: "${{ parameters.pomFilePath }}"
      goals: "${{ parameters.goal }}"
      publishJUnitResults: true 
      testResultsFiles: '**/surefire-reports/TEST-*.xml'
      jdkVersionOption: '1.17'
       
